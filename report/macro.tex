%% TODO
\newcommand*{\comments}{}
\ifdefined\comments
\newcommand{\todo}[1]{\textcolor{red}{#1}}
\else
\newcommand{\todo}[1]{\textcolor{red}{#1}}
\fi
\newcommand{\yanju}[1]{\textcolor{blue}{Yanju: #1}}
\newcommand{\junrui}[1]{\textcolor{cyan}{Junrui: #1}}

%% Inference rules
\newcommand{\irule}[2]%
   {\mkern-2mu\displaystyle\frac{#1}{\vphantom{,}#2}\mkern-2mu}
\newcommand{\irulelabel}[3]
{
\mkern-2mu
\begin{array}{ll}
\displaystyle\frac{#1}{\vphantom{,}#2} & \!\!\!\!#3
\end{array}
\mkern-2mu
}

%% Tool names
\newcommand{\toolname}{{\sc Cider}\xspace}
\newcommand{\invlang}{{\sc SolInv}\xspace}
\newcommand{\gabs}{ADG\xspace}

\renewcommand{\subsectionautorefname}{Section} % PS
\renewcommand{\sectionautorefname}{Section} % PS
\renewcommand{\figureautorefname}{Figure} % PS
\renewcommand{\tableautorefname}{Table} % PS
\newcommand{\exampleautorefname}{Example} % PS
\newcommand{\definitionautorefname}{Definition} % PS
\newcommand{\algorithmautorefname}{Algorithm} % PS

%% Symbols
\newcommand{\policy}{\pi}
% \newcommand{\hole}{\textbf{??}}
\newcommand{\hole}{\diamond}
\newcommand{\holedom}{\delta}
\newcommand{\typeEnv}{\Gamma}
\newcommand{\structEnv}{\Sigma}
\newcommand{\stateVars}{V}
\newcommand{\dom}{\emph{dom}}
\newcommand{\expr}{E}
\newcommand{\dslprog}{\mathcal{T}}
\newcommand{\atomicTrans}{\mathcal{T}_A}
\newcommand{\contract}{\mathcal{P}}
\newcommand{\sketch}{\mathcal{S}}
\newcommand{\sname}{S}
\newcommand{\fields}{\mathcal{F}}
\newcommand{\funcs}{\vec{F}}
\newcommand{\type}{\tau}
\newcommand{\vars}{\mathcal{V}}
\newcommand{\hardcstr}{\mathcal{H}}
\newcommand{\softcstr}{\mathcal{S}}
\newcommand{\model}{\mathcal{M}}
\newcommand{\cstr}{\Phi}
\newcommand{\cex}{\mathcal{E}}
\newcommand{\trace}{\pi}
\newcommand{\xor}{\emph{Xor}}
\newcommand{\pci}{\Phi}
\newcommand{\enc}{\mathcal{N}_e}
\newcommand{\dec}{\mathcal{N}_d}
\newcommand{\timeout}{\delta}


%% Arrows
\newcommand{\xhookrightarrow}[1]{\lhook\joinrel\xrightarrow{#1}}
\newcommand{\xtwoheadrightarrow}[1]{\overset{#1}\twoheadrightarrow}
\newcommand{\optas}{\rightsquigarrow}

\newcommand{\texp}{\xi}

\newcommand{\soltype}{{\sc SolType}\xspace}
\newcommand{\autosolid}{{\sc SolidChc}\xspace}
\newcommand{\solid}{{\sc Solid}\xspace}
\newcommand{\consul}{{\sc Consul}\xspace}
\newcommand{\baseline}{{\sc Houdini}\xspace}
\newcommand{\etherscan}{{\sc Etherscan}\xspace}
\newcommand{\safemath}{{\sc SafeMath}\xspace}
\newcommand{\verismart}{{\sc Verismart}\xspace}
\newcommand{\reentrancy}{{\sc Reentrancy}\xspace}
\newcommand{\batchoverflow}{{\sc BatchOverflow}\xspace}

% code environment
\definecolor{keyword}{RGB}{75,119,190} % blue
\definecolor{comment}{RGB}{38,166,91} % dark green
\definecolor{bgcolor}{RGB}{246,246,246} % dark green
\lstdefinestyle{solidity}{
    keywords=[1]{anonymous, assembly, assert, balance, break, call, callcode, case, catch, constant, continue, constructor, contract, debugger, default, delegatecall, delete, do, else, emit, event, experimental, export, external, false, finally, for, function, gas, if, implements, import, in, indexed, instanceof, interface, internal, is, length, library, log0, log1, log2, log3, log4, memory, modifier, new, payable, pragma, private, protected, public, pure, push, require, return, returns, revert, selfdestruct, send, solidity, storage, struct, suicide, super, switch, then, this, throw, transfer, true, try, typeof, using, value, view, while, with, addmod, ecrecover, keccak256, mulmod, ripemd160, sha256, sha3}, % generic keywords including crypto operations
    keywords=[2]{address, bool, byte, bytes, bytes1, bytes2, bytes3, bytes4, bytes5, bytes6, bytes7, bytes8, bytes9, bytes10, bytes11, bytes12, bytes13, bytes14, bytes15, bytes16, bytes17, bytes18, bytes19, bytes20, bytes21, bytes22, bytes23, bytes24, bytes25, bytes26, bytes27, bytes28, bytes29, bytes30, bytes31, bytes32, enum, int, int8, int16, int24, int32, int40, int48, int56, int64, int72, int80, int88, int96, int104, int112, int120, int128, int136, int144, int152, int160, int168, int176, int184, int192, int200, int208, int216, int224, int232, int240, int248, int256, mapping, string, uint, uint8, uint16, uint24, uint32, uint40, uint48, uint56, uint64, uint72, uint80, uint88, uint96, uint104, uint112, uint120, uint128, uint136, uint144, uint152, uint160, uint168, uint176, uint184, uint192, uint200, uint208, uint216, uint224, uint232, uint240, uint248, uint256, var, void, ether, finney, szabo, wei, days, hours, minutes, seconds, weeks, years},	% types; money and time units
    keywords=[3]{block, blockhash, coinbase, difficulty, gaslimit, number, timestamp, msg, data, gas, sender, sig, value, now, tx, gasprice, origin},	% environment variables
    backgroundcolor=\color{bgcolor},
	numbers=left,
	numberstyle=\tiny\bfseries,
	numbersep=5pt,
	showstringspaces=false,
	tabsize=2,
	basicstyle=\footnotesize\ttfamily,
	comment=[l]{//},
	morecomment=[s]{/*}{*/},
	commentstyle=\color{comment}\textit,
	stringstyle=\color{red},
	keywordstyle=[1]\color{keyword}\bfseries,
	keywordstyle=[2]\color{keyword}\bfseries,
	keywordstyle=[3]\color{keyword}\bfseries,
	showlines=true,
	xleftmargin=0pt,
    xrightmargin=0pt,
    % escapeinside={@}{@},
    escapeinside=||,
    columns=fullflexible,
    morestring=[b]',
	morestring=[b]",
	mathescape
}
\lstset{numbers=left,numberblanklines=false,escapeinside=||}
\let\origthelstnumber\thelstnumber
\makeatletter
\newcommand*\Suppressnumber{%
  \lst@AddToHook{OnNewLine}{%
    \let\thelstnumber\relax%
     \advance\c@lstnumber-\@ne\relax%
    }%
}
\newcommand*\Reactivatenumber{%
  \lst@AddToHook{OnNewLine}{%
   \let\thelstnumber\origthelstnumber%
   \advance\c@lstnumber\@ne\relax}%
}
\makeatother
